# 115门禁系统
----
####115门禁系统由三部分构成：STM32单片机下位机，树莓派上位机，web服务器。
####下位机：####
STM32单片机通过GPIO控制MOS管来控制开门。同时STM32通过蓝牙串口模块与树莓派连接。当单片机接收到树莓派发来的开门信号后，GPIO切换为推挽输出状态，MOS管导通，继而开门。
####上位机：
树莓派通过蓝牙串口模块与STM32单片机通讯，直接控制门禁的开关。同时，树莓派上有一个TCP Server，监听着来自于web服务器的连接。当web服务器作为TCP Client连入，向上位机发送开门信号，上位机树莓派接收到信号后，通过控制串口蓝牙模块，向下位机发送开门信号。
####web服务器：
当用户访问指定php网页后，php判断用户合法性，如果合法，则建立TCP连接，当成功连接上位机后，向上位机发送开门信号。

